---
import { getThoughts } from '../../utils/finders';

import Application from '../../layouts/Application.astro';
import Spacer from '../../components/Spacer.astro';

const thoughts = await getThoughts();
---

<Application title="Thoughts" description="A collection of thoughts on software engineering, leadership, events, and life.">
	<h1 class="c-heading">Thoughts<span class="c-heading--highlight">.</span></h1>

	<Spacer />

	<p>A collection of thoughts on software engineering, leadership, events, and life.</p>

	<Spacer />

	<ul class="list-none p-0 m-0">
		{thoughts.map((thought) => (
			<li class="py-4 border-b border-gray-200 last:border-0">
				<a href={`/thoughts/${thought.slug}`} class="flex flex-col sm:flex-row sm:justify-between sm:items-baseline gap-1 sm:gap-4 no-underline text-inherit group">
					<span class="transition-colors group-hover:text-brand-highlight">{thought.data.title}</span>
					<span class="text-gray-500 text-base sm:text-lg whitespace-nowrap">
						<time datetime={thought.data.pubDate.toISOString()}>
							{thought.data.pubDate.toLocaleDateString('en-uk', {
								day: 'numeric',
								month: 'short',
								year: 'numeric'
							})}
						</time>
						<span class="mx-2">Â·</span>
						<span>{thought.readingTime.text}</span>
					</span>
				</a>
				<p class="mt-2 mb-0 text-gray-500 text-base sm:text-lg">{thought.data.description}</p>
			</li>
		))}
	</ul>

	<Spacer />

	<p>
		<a href="/">Go back</a>
	</p>
</Application>
