---
import { getThoughts } from '../utils/finders';

import Application from '../layouts/Application.astro';
import Spacer from '../components/Spacer.astro';

const thoughts = await getThoughts();
---

<Application title="Hello">
	<h1 class="c-heading">Josh Nesbitt<span class="c-heading--highlight">.</span></h1>

	<Spacer />

	<p>Hey ðŸ‘‹ I'm Josh, a software engineer and technical leader based in Leeds, UK. My work ranges from building sustainable platforms and products to leading some of the best-performing teams in technology. I also run internationally recognised conferences and events, bringing people together from all over the world to learn, inspire and share stories.</p>

	<Spacer />

	<h2 class="c-sub-heading">Focus</h2>

	<ul class="c-link-list">
		<li><a href="https://genio.co">Company</a></li>
		<li><a href="https://stac.works">Consultancy</a></li>
		<li><a href="https://heypresents.com/conference">Conference</a></li>
		<li><a href="https://heypresents.com/podcast">Podcast</a></li>
		<li><a href="https://stac.works/speaking">Speaking</a></li>
		<li><a href="https://joshnesbitt.cooking">Cooking</a></li>
	</ul>

	<Spacer />

	<h2 class="c-sub-heading">Thoughts</h2>

	<ul class="c-home-thoughts">
		{
			thoughts.map((thought) => (
				<li class="c-home-thoughts__item">
					<a href={`/thoughts/${thought.slug}`} class="c-home-thoughts__link">
						<span class="c-home-thoughts__title">{thought.data.title}</span>
						<time class="c-home-thoughts__date" datetime={thought.data.pubDate.toISOString()}>
							{thought.data.pubDate.toLocaleDateString('en-uk', {
								month: 'short',
								year: 'numeric'
							})}
						</time>
					</a>
				</li>
			))
		}
	</ul>

	<p class="c-view-all"><a href="/thoughts">View all thoughts</a></p>

	<Spacer />

	<h2 class="c-sub-heading">Networks</h2>

	<ul class="c-link-list">
		<li><a href="https://www.linkedin.com/in/josh-nesbitt">LinkedIn</a></li>
		<li><a href="https://github.com/joshnesbitt">GitHub</a></li>
		<li><a href="https://bsky.app/profile/joshnesbitt.dev">Bluesky</a></li>
		<li><a href="https://substack.com/@joshnesbitt">Substack</a></li>
		<li><a href="https://www.instagram.com/joshnesbitt">Instagram</a></li>
	</ul>
</Application>

<style lang="scss">
	.c-home-thoughts {
		list-style: none;
		padding: 0;
		margin: 0;

		&__item {
			padding: 0.5rem 0;
		}

		&__link {
			display: flex;
			flex-direction: column;
			gap: 0.25rem;
			text-decoration: none;
			color: inherit;

			@media (min-width: 640px) {
				flex-direction: row;
				justify-content: space-between;
				align-items: baseline;
				gap: 1rem;
			}

			&:hover .c-home-thoughts__title {
				color: #46FF10;
			}
		}

		&__title {
			font-weight: 500;
			transition: color 0.2s ease;
		}

		&__date {
			color: #666;
			font-size: 0.875rem;
			white-space: nowrap;
		}
	}

	.c-view-all {
		margin-top: 1rem;

		a {
			color: #666;
			text-decoration: none;
			font-size: 0.9375rem;

			&:hover {
				color: #46FF10;
			}
		}
	}
</style>
